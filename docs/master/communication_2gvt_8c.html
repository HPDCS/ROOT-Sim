<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>The ROme OpTimistic Simulator: src/communication/gvt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="flatdoc.css" rel="stylesheet" type="text/css"/>
<link href="inline-params.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The ROme OpTimistic Simulator
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">A General-Purpose Multithreaded Parallel/Distributed Simulation Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('communication_2gvt_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gvt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Distributed GVT Support module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="communication_8h_source.html">communication/communication.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mpi_8h_source.html">communication/mpi.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="communication_2gvt_8h_source.html">communication/gvt.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for gvt.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c__incl.png" border="0" usemap="#src_2communication_2gvt_8c" alt=""/></div>
<map name="src_2communication_2gvt_8c" id="src_2communication_2gvt_8c">
<area shape="rect" id="node2" href="communication_8h.html" title="Communication Routines. " alt="" coords="1257,319,1493,345"/>
<area shape="rect" id="node20" href="mpi_8h.html" title="MPI Support Module. " alt="" coords="993,80,1154,107"/>
<area shape="rect" id="node48" href="communication_2gvt_8h.html" title="Distributed GVT Support module. " alt="" coords="1559,155,1716,181"/>
<area shape="rect" id="node3" href="core_8h.html" title="Core ROOT&#45;Sim functionalities. " alt="" coords="1053,707,1147,733"/>
<area shape="rect" id="node4" href="ROOT-Sim_8h.html" title="ROOT&#45;Sim header for model development. " alt="" coords="759,781,857,808"/>
<area shape="rect" id="node15" href="thread_8h.html" title="Generic thread management facilities. " alt="" coords="1138,781,1246,808"/>
<area shape="rect" id="node16" href="atomic_8h.html" title="Atomic operations. " alt="" coords="1270,856,1381,883"/>
<area shape="rect" id="node21" href="wnd_8h.html" title="Message delivery support. " alt="" coords="992,229,1155,256"/>
<area shape="rect" id="node39" href="statistics_8h.html" title="Statistics module. " alt="" coords="716,155,868,181"/>
<area shape="rect" id="node22" href="list_8h.html" title="Generic Lists. " alt="" coords="564,707,684,733"/>
<area shape="rect" id="node25" href="mm_8h.html" title="Memory Manager main header. " alt="" coords="1085,319,1176,345"/>
<area shape="rect" id="node27" href="dymelor_8h.html" title="Dynamic Memory Logger and Restorer (DyMeLoR) " alt="" coords="999,408,1113,435"/>
<area shape="rect" id="node28" href="bitmap_8h.html" title="Bitmap data type. " alt="" coords="436,632,583,659"/>
<area shape="rect" id="node30" href="state_8h.html" title="LP state management. " alt="" coords="509,483,606,509"/>
<area shape="rect" id="node36" href="timer_8h.html" title="Timers. " alt="" coords="1007,483,1105,509"/>
<area shape="rect" id="node31" href="numerical_8h.html" title="Numerical Library. " alt="" coords="93,557,208,584"/>
<area shape="rect" id="node32" href="abm__layer_8h_source.html" title="lib/abm_layer.h" alt="" coords="233,557,351,584"/>
<area shape="rect" id="node33" href="topology_8h_source.html" title="lib/topology.h" alt="" coords="375,557,481,584"/>
<area shape="rect" id="node34" href="jsmn__helper_8h_source.html" title="lib/jsmn_helper.h" alt="" coords="221,632,350,659"/>
<area shape="rect" id="node35" href="jsmn_8h_source.html" title="lib/jsmn.h" alt="" coords="244,707,327,733"/>
<area shape="rect" id="node40" href="process_8h.html" title="LP control blocks. " alt="" coords="449,229,599,256"/>
<area shape="rect" id="node41" href="ecs_8h.html" title="Event &amp; Cross State Synchornization. " alt="" coords="229,319,315,345"/>
<area shape="rect" id="node42" href="msgchannel_8h.html" title="A (M, 1) channel for messages. " alt="" coords="1058,632,1238,659"/>
<area shape="rect" id="node43" href="ult_8h.html" title="User&#45;Level Threads Headers. " alt="" coords="685,319,768,345"/>
<area shape="rect" id="node46" href="cross__state__manager_8h.html" title="Per&#45;thread page table. " alt="" coords="441,304,607,360"/>
<area shape="rect" id="node44" href="jmp_8h.html" title="Architecture&#45;independent ULT header. " alt="" coords="681,408,772,435"/>
<area shape="rect" id="node45" href="x86_2jmp_8h.html" title="x86 ULT support header " alt="" coords="367,483,484,509"/>
</map>
</div>
</div>
<p><a href="communication_2gvt_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae0cb1aa4dae8060ac662c0534849ecf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#ae0cb1aa4dae8060ac662c0534849ecf3">gvt_comm_init</a> (void)</td></tr>
<tr class="memdesc:ae0cb1aa4dae8060ac662c0534849ecf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the MPI-based distributed GVT reduction submodule.  <a href="#ae0cb1aa4dae8060ac662c0534849ecf3">More...</a><br /></td></tr>
<tr class="separator:ae0cb1aa4dae8060ac662c0534849ecf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35f5f227c553fffd0911c995c865e17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#ac35f5f227c553fffd0911c995c865e17">gvt_comm_finalize</a> (void)</td></tr>
<tr class="memdesc:ac35f5f227c553fffd0911c995c865e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down the MPI-based distributed GVT reduction submodule.  <a href="#ac35f5f227c553fffd0911c995c865e17">More...</a><br /></td></tr>
<tr class="separator:ac35f5f227c553fffd0911c995c865e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6de31111fcebe2242dc5af0a17f5d44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#aa6de31111fcebe2242dc5af0a17f5d44">enter_red_phase</a> (void)</td></tr>
<tr class="memdesc:aa6de31111fcebe2242dc5af0a17f5d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a thread enter into red phase.  <a href="#aa6de31111fcebe2242dc5af0a17f5d44">More...</a><br /></td></tr>
<tr class="separator:aa6de31111fcebe2242dc5af0a17f5d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada741933a843e0427d9768d6bb2a511b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#ada741933a843e0427d9768d6bb2a511b">exit_red_phase</a> (void)</td></tr>
<tr class="memdesc:ada741933a843e0427d9768d6bb2a511b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a thread exit from red phase.  <a href="#ada741933a843e0427d9768d6bb2a511b">More...</a><br /></td></tr>
<tr class="separator:ada741933a843e0427d9768d6bb2a511b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed9e4affac9f35d26194a98a089f2c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a0ed9e4affac9f35d26194a98a089f2c6">join_white_msg_redux</a> (void)</td></tr>
<tr class="memdesc:a0ed9e4affac9f35d26194a98a089f2c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join the white message reduction collective operation.  <a href="#a0ed9e4affac9f35d26194a98a089f2c6">More...</a><br /></td></tr>
<tr class="separator:a0ed9e4affac9f35d26194a98a089f2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad754b4a17c642f9672743a0a246e6467"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#ad754b4a17c642f9672743a0a246e6467">white_msg_redux_completed</a> (void)</td></tr>
<tr class="memdesc:ad754b4a17c642f9672743a0a246e6467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test completion of white message reduction collective operation.  <a href="#ad754b4a17c642f9672743a0a246e6467">More...</a><br /></td></tr>
<tr class="separator:ad754b4a17c642f9672743a0a246e6467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4efc6874baad6133dd05ed355fe8d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a4c4efc6874baad6133dd05ed355fe8d8">wait_white_msg_redux</a> (void)</td></tr>
<tr class="memdesc:a4c4efc6874baad6133dd05ed355fe8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the completion of wait message reduction.  <a href="#a4c4efc6874baad6133dd05ed355fe8d8">More...</a><br /></td></tr>
<tr class="separator:a4c4efc6874baad6133dd05ed355fe8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790d3d47b4d7409eab44e4341af4a22a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a790d3d47b4d7409eab44e4341af4a22a">all_white_msg_received</a> (void)</td></tr>
<tr class="memdesc:a790d3d47b4d7409eab44e4341af4a22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if white messages are all received.  <a href="#a790d3d47b4d7409eab44e4341af4a22a">More...</a><br /></td></tr>
<tr class="separator:a790d3d47b4d7409eab44e4341af4a22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb9ce2068b5fd917d5e89cc39f66e12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#adbb9ce2068b5fd917d5e89cc39f66e12">flush_white_msg_recv</a> (void)</td></tr>
<tr class="memdesc:adbb9ce2068b5fd917d5e89cc39f66e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset received white messages.  <a href="#adbb9ce2068b5fd917d5e89cc39f66e12">More...</a><br /></td></tr>
<tr class="separator:adbb9ce2068b5fd917d5e89cc39f66e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4918516de830ae69a67a15e4178a0485"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a4918516de830ae69a67a15e4178a0485">flush_white_msg_sent</a> (void)</td></tr>
<tr class="memdesc:a4918516de830ae69a67a15e4178a0485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset sent white messages.  <a href="#a4918516de830ae69a67a15e4178a0485">More...</a><br /></td></tr>
<tr class="separator:a4918516de830ae69a67a15e4178a0485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81bd7f5958dcb41dad5c697a6628569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#ae81bd7f5958dcb41dad5c697a6628569">broadcast_gvt_init</a> (unsigned int round)</td></tr>
<tr class="memdesc:ae81bd7f5958dcb41dad5c697a6628569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate a distributed GVT.  <a href="#ae81bd7f5958dcb41dad5c697a6628569">More...</a><br /></td></tr>
<tr class="separator:ae81bd7f5958dcb41dad5c697a6628569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb460bc63d1b830804752ce6bdd4e30a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#abb460bc63d1b830804752ce6bdd4e30a">gvt_init_pending</a> (void)</td></tr>
<tr class="memdesc:abb460bc63d1b830804752ce6bdd4e30a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are pending GVT-init messages around.  <a href="#abb460bc63d1b830804752ce6bdd4e30a">More...</a><br /></td></tr>
<tr class="separator:abb460bc63d1b830804752ce6bdd4e30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97741fc617b443cee108c44a26cd513b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a97741fc617b443cee108c44a26cd513b">gvt_init_clear</a> (void)</td></tr>
<tr class="memdesc:a97741fc617b443cee108c44a26cd513b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forcely extract GVT-init message from MPI.  <a href="#a97741fc617b443cee108c44a26cd513b">More...</a><br /></td></tr>
<tr class="separator:a97741fc617b443cee108c44a26cd513b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ca71f17a218181b76a3ef8ffa12e95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a53ca71f17a218181b76a3ef8ffa12e95">join_gvt_redux</a> (<a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a> local_vt)</td></tr>
<tr class="memdesc:a53ca71f17a218181b76a3ef8ffa12e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce the GVT value.  <a href="#a53ca71f17a218181b76a3ef8ffa12e95">More...</a><br /></td></tr>
<tr class="separator:a53ca71f17a218181b76a3ef8ffa12e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0d87c4ff2f7290727fc3d3f9b2034f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a0d0d87c4ff2f7290727fc3d3f9b2034f">gvt_redux_completed</a> (void)</td></tr>
<tr class="memdesc:a0d0d87c4ff2f7290727fc3d3f9b2034f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if final GVT reduction is complete.  <a href="#a0d0d87c4ff2f7290727fc3d3f9b2034f">More...</a><br /></td></tr>
<tr class="separator:a0d0d87c4ff2f7290727fc3d3f9b2034f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022fe9fa84d6e6614c9572d23adfcc9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a022fe9fa84d6e6614c9572d23adfcc9b">last_reduced_gvt</a> (void)</td></tr>
<tr class="memdesc:a022fe9fa84d6e6614c9572d23adfcc9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the last GVT value.  <a href="#a022fe9fa84d6e6614c9572d23adfcc9b">More...</a><br /></td></tr>
<tr class="separator:a022fe9fa84d6e6614c9572d23adfcc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f513e8aeeeb0abebc46f19ceb72293"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a76f513e8aeeeb0abebc46f19ceb72293">register_outgoing_msg</a> (const <a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *msg)</td></tr>
<tr class="memdesc:a76f513e8aeeeb0abebc46f19ceb72293"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an outgoing message, if necessary.  <a href="#a76f513e8aeeeb0abebc46f19ceb72293">More...</a><br /></td></tr>
<tr class="separator:a76f513e8aeeeb0abebc46f19ceb72293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8f575e93930869ac20641c7305e850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a5f8f575e93930869ac20641c7305e850">register_incoming_msg</a> (const <a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *msg)</td></tr>
<tr class="memdesc:a5f8f575e93930869ac20641c7305e850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an incoming message, if necessary.  <a href="#a5f8f575e93930869ac20641c7305e850">More...</a><br /></td></tr>
<tr class="separator:a5f8f575e93930869ac20641c7305e850"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a483f79cd10cadd1e5e1c0343d994f677"><td class="memItemLeft" align="right" valign="top">phase_colour *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a483f79cd10cadd1e5e1c0343d994f677">threads_phase_colour</a></td></tr>
<tr class="separator:a483f79cd10cadd1e5e1c0343d994f677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f88b7111a663307f864d6b915dacca5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f88b7111a663307f864d6b915dacca5"></a>
<a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a6f88b7111a663307f864d6b915dacca5">min_outgoing_red_msg</a></td></tr>
<tr class="memdesc:a6f88b7111a663307f864d6b915dacca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum time among all the outgoing red messages for each thread. <br /></td></tr>
<tr class="separator:a6f88b7111a663307f864d6b915dacca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8761a9e2f01cdff70593723d0c0abd"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structatomic__t.html">atomic_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a7d8761a9e2f01cdff70593723d0c0abd">white_msg_recv</a></td></tr>
<tr class="separator:a7d8761a9e2f01cdff70593723d0c0abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a943588095f11794c91092610ff513342"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structatomic__t.html">atomic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a943588095f11794c91092610ff513342">white_0_msg_recv</a></td></tr>
<tr class="separator:a943588095f11794c91092610ff513342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5bf507fc67fec650614adcb3bf5a78"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structatomic__t.html">atomic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a7c5bf507fc67fec650614adcb3bf5a78">white_1_msg_recv</a></td></tr>
<tr class="separator:a7c5bf507fc67fec650614adcb3bf5a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fd394b547fafedf9907b606565298a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structatomic__t.html">atomic_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a39fd394b547fafedf9907b606565298a">white_msg_sent</a></td></tr>
<tr class="separator:a39fd394b547fafedf9907b606565298a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd8c6fb4f095c541650ecbef4501ebb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedd8c6fb4f095c541650ecbef4501ebb"></a>
static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#aedd8c6fb4f095c541650ecbef4501ebb">white_msg_sent_buff</a></td></tr>
<tr class="memdesc:aedd8c6fb4f095c541650ecbef4501ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary structure used for the MPI collective primitives. <br /></td></tr>
<tr class="separator:aedd8c6fb4f095c541650ecbef4501ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdd8a81f11368f9f67bd69b5c3d7dd9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a1bdd8a81f11368f9f67bd69b5c3d7dd9">expected_white_msg</a></td></tr>
<tr class="separator:a1bdd8a81f11368f9f67bd69b5c3d7dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3a3f661a96c329f9bb2954e9e280ed"><td class="memItemLeft" align="right" valign="top">static MPI_Request&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a6c3a3f661a96c329f9bb2954e9e280ed">white_count_req</a></td></tr>
<tr class="separator:a6c3a3f661a96c329f9bb2954e9e280ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ed03c46ed4898eb43880cfdc7818c7"><td class="memItemLeft" align="right" valign="top">static MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a93ed03c46ed4898eb43880cfdc7818c7">white_count_comm</a></td></tr>
<tr class="separator:a93ed03c46ed4898eb43880cfdc7818c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8620b7dcfe0486c757dcbcd2e569b692"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structspinlock__t.html">spinlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a8620b7dcfe0486c757dcbcd2e569b692">white_count_lock</a></td></tr>
<tr class="separator:a8620b7dcfe0486c757dcbcd2e569b692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0615aa251769730f88b91b68349e4d"><td class="memItemLeft" align="right" valign="top">static MPI_Request&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a9e0615aa251769730f88b91b68349e4d">gvt_reduction_req</a></td></tr>
<tr class="separator:a9e0615aa251769730f88b91b68349e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346cf02255cc35cfb4eda9bfd867d24c"><td class="memItemLeft" align="right" valign="top">static MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a346cf02255cc35cfb4eda9bfd867d24c">gvt_reduction_comm</a></td></tr>
<tr class="separator:a346cf02255cc35cfb4eda9bfd867d24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc87f748b0df40fd022d65970728be8b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structspinlock__t.html">spinlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#acc87f748b0df40fd022d65970728be8b">gvt_reduction_lock</a></td></tr>
<tr class="separator:acc87f748b0df40fd022d65970728be8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d5111ea49c9276982ae66d84ef4940"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a70d5111ea49c9276982ae66d84ef4940">local_vt_buff</a></td></tr>
<tr class="separator:a70d5111ea49c9276982ae66d84ef4940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec157ed8858d0db5f0ef31ae353470a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a8ec157ed8858d0db5f0ef31ae353470a">reduced_gvt</a></td></tr>
<tr class="separator:a8ec157ed8858d0db5f0ef31ae353470a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864a11544473877b76dc067332d9a8d3"><td class="memItemLeft" align="right" valign="top">static MPI_Request *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a864a11544473877b76dc067332d9a8d3">gvt_init_reqs</a></td></tr>
<tr class="separator:a864a11544473877b76dc067332d9a8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1557dfd2b30b86362256afd511b4a1d9"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="communication_2gvt_8c.html#a1557dfd2b30b86362256afd511b4a1d9">gvt_init_round</a></td></tr>
<tr class="separator:a1557dfd2b30b86362256afd511b4a1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Distributed GVT Support module. </p>
<p>This module implements communication primitives to implement the asynchronous distributed GVT reduction algorithm described in:</p>
<p>T. Tocci, A. Pellegrini, F. Quaglia, J. Casanovas-García, and T. Suzumura,<br />
 <em>“ORCHESTRA: An Asynchronous Wait-Free Distributed GVT Algorithm,”</em><br />
 in Proceedings of the 21st IEEE/ACM International Symposium on Distributed Simulation and Real Time Applications<br />
 2017</p>
<p>For a full understanding of the code, we encourage reading that paper.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2008-2019 HPDCS Group <a href="https://hpdcs.github.io">https://hpdcs.github.io</a></dd></dl>
<p>This file is part of ROOT-Sim (ROme OpTimistic Simulator).</p>
<p>ROOT-Sim is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; only version 3 of the License applies.</p>
<p>ROOT-Sim is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with ROOT-Sim; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA</p>
<dl class="section author"><dt>Author</dt><dd>Tommaso Tocci </dd></dl>

<p>Definition in file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a790d3d47b4d7409eab44e4341af4a22a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool all_white_msg_received </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if white messages are all received. </p>
<p>Check if the number of white message received is equal to the expected ones (retrieved through the white message reduction).</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the expected amount of white messages has bee already received, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00364">364</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a790d3d47b4d7409eab44e4341af4a22a_icgraph.png" border="0" usemap="#communication_2gvt_8c_a790d3d47b4d7409eab44e4341af4a22a_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a790d3d47b4d7409eab44e4341af4a22a_icgraph" id="communication_2gvt_8c_a790d3d47b4d7409eab44e4341af4a22a_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="225,5,343,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="391,5,552,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="600,5,721,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="633,56,688,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae81bd7f5958dcb41dad5c697a6628569"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void broadcast_gvt_init </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>round</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate a distributed GVT. </p>
<p>A call to this function sends to all kernel instances an asynchronous request to initiate the distributed protocol for GVT reduction.</p>
<p>If must be called by one single thread, and a consistent round value should be passed as an argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">round</td><td>A counter telling what is the GVT round that we want to initiate. <code>round</code> must be strictly monotonic. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00447">447</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_cgraph.png" border="0" usemap="#communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_cgraph" id="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_cgraph">
<area shape="rect" id="node2" href="mpi_8c.html#a15047d29439a8f03a2747ecadda5b4a4" title="check if an MPI request has been completed " alt="" coords="192,5,355,32"/>
</map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_icgraph.png" border="0" usemap="#communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_icgraph" id="communication_2gvt_8c_ae81bd7f5958dcb41dad5c697a6628569_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="192,5,309,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="357,5,519,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="567,5,688,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="600,56,655,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6de31111fcebe2242dc5af0a17f5d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enter_red_phase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a thread enter into red phase. </p>
<p>Once this function returns, the calling thread will be turned <b>red</b>. The minimum timestamp of red messages sent by it will be reset.</p>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function from a thread which is already in the red phase will cause a sanity check to immediately stop the simulation, as it will be no longer possible to ensure consistency in the GVT reduction. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00259">259</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_aa6de31111fcebe2242dc5af0a17f5d44_icgraph.png" border="0" usemap="#communication_2gvt_8c_aa6de31111fcebe2242dc5af0a17f5d44_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_aa6de31111fcebe2242dc5af0a17f5d44_icgraph" id="communication_2gvt_8c_aa6de31111fcebe2242dc5af0a17f5d44_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="184,5,301,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="349,5,511,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="559,5,680,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="592,56,647,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ada741933a843e0427d9768d6bb2a511b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exit_red_phase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a thread exit from red phase. </p>
<p>Once this function returns, the calling thread will be turned <b>white</b>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function from a thread which is already in the white phase will cause a sanity check to immediately stop the simulation, as it will be no longer possible to ensure consistency in the GVT reduction. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00279">279</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ada741933a843e0427d9768d6bb2a511b_icgraph.png" border="0" usemap="#communication_2gvt_8c_ada741933a843e0427d9768d6bb2a511b_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_ada741933a843e0427d9768d6bb2a511b_icgraph" id="communication_2gvt_8c_ada741933a843e0427d9768d6bb2a511b_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="172,56,272,83"/>
<area shape="rect" id="node3" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="723,5,844,32"/>
<area shape="rect" id="node6" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="320,56,495,83"/>
<area shape="rect" id="node7" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="359,107,456,133"/>
<area shape="rect" id="node4" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="909,48,1071,75"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1384,76,1439,103"/>
<area shape="rect" id="node8" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="543,107,657,133"/>
<area shape="rect" id="node9" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="705,107,861,133"/>
<area shape="rect" id="node10" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="913,99,1067,141"/>
<area shape="rect" id="node11" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1119,103,1197,129"/>
<area shape="rect" id="node12" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1245,101,1336,128"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adbb9ce2068b5fd917d5e89cc39f66e12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_white_msg_recv </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset received white messages. </p>
<p>This function is used to prepare for the next white phase of the execution. In particular, after that the correct number of white messages has been received, a call to this function will change the white phase counter pointed by <a class="el" href="communication_2gvt_8c.html#a7d8761a9e2f01cdff70593723d0c0abd">white_msg_recv</a> to either <a class="el" href="communication_2gvt_8c.html#a943588095f11794c91092610ff513342">white_0_msg_recv</a> or <a class="el" href="communication_2gvt_8c.html#a7c5bf507fc67fec650614adcb3bf5a78">white_1_msg_recv</a>, depending on the current phase which we are leaving.</p>
<p>Furthermore, the white message counter is reset to zero&mdash;it will be used in the next GVT round.</p>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function if the correct number of white messages has been received will stop the simulation due to an inconsistency. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00386">386</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_adbb9ce2068b5fd917d5e89cc39f66e12_icgraph.png" border="0" usemap="#communication_2gvt_8c_adbb9ce2068b5fd917d5e89cc39f66e12_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_adbb9ce2068b5fd917d5e89cc39f66e12_icgraph" id="communication_2gvt_8c_adbb9ce2068b5fd917d5e89cc39f66e12_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="215,5,332,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="380,5,541,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="589,5,711,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="623,56,677,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4918516de830ae69a67a15e4178a0485"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_white_msg_sent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset sent white messages. </p>
<p>This function is used to prepare for the next white phase of the execution. In particular, after that all the threads have entered the red phase (this ensures that white message counter can be safely reset for all threads) the counters keeping the number of white messages sent to other simulation kernel instances are reset.</p>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function if at least one thread is still in the white phase will stop the simulation due to an inconsistency. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00417">417</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a4918516de830ae69a67a15e4178a0485_icgraph.png" border="0" usemap="#communication_2gvt_8c_a4918516de830ae69a67a15e4178a0485_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a4918516de830ae69a67a15e4178a0485_icgraph" id="communication_2gvt_8c_a4918516de830ae69a67a15e4178a0485_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="216,5,333,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="381,5,543,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="591,5,712,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="624,56,679,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac35f5f227c553fffd0911c995c865e17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gvt_comm_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shut down the MPI-based distributed GVT reduction submodule. </p>
<p>This function is called just before shutting down the MPI subsystem. It frees all the data structures used to carry out the distributed GVT reduction protocol, and nicely tells MPI to wipe out everything that is no longer needed. Right after this, MPI will be shut down as well. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00221">221</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_cgraph.png" border="0" usemap="#communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_cgraph" id="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_cgraph">
<area shape="rect" id="node2" href="communication_2gvt_8c.html#abb460bc63d1b830804752ce6bdd4e30a" title="Check if there are pending GVT&#45;init messages around. " alt="" coords="195,5,321,32"/>
<area shape="rect" id="node4" href="communication_2gvt_8c.html#a97741fc617b443cee108c44a26cd513b" title="Forcely extract GVT&#45;init message from MPI. " alt="" coords="205,56,311,83"/>
<area shape="rect" id="node3" href="mpi_8c.html#a621b43e2d97c134914cb2737e13e97e2" title="Check if there are pending messages. " alt="" coords="369,5,484,32"/>
</map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_icgraph.png" border="0" usemap="#communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_icgraph" id="communication_2gvt_8c_ac35f5f227c553fffd0911c995c865e17_icgraph">
<area shape="rect" id="node2" href="mpi_8h.html#a38b0bdfeab3308a62e50dc362ebd2a68" title="Finalize inter&#45;kernel communication. " alt="" coords="195,51,391,77"/>
<area shape="rect" id="node3" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="439,51,585,77"/>
<area shape="rect" id="node4" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="633,51,789,77"/>
<area shape="rect" id="node5" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="841,9,995,50"/>
<area shape="rect" id="node9" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="837,85,999,112"/>
<area shape="rect" id="node6" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1068,5,1147,32"/>
<area shape="rect" id="node7" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1216,5,1307,32"/>
<area shape="rect" id="node8" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1355,31,1409,57"/>
<area shape="rect" id="node10" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1047,107,1168,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0cb1aa4dae8060ac662c0534849ecf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gvt_comm_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the MPI-based distributed GVT reduction submodule. </p>
<p>This function is called after that the MPI subsystem is activated. Its goal is to initialize all the variable-sized data structures and MPI-related data structures which will be used while running the distributed GVT reduction protocol. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00174">174</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ae0cb1aa4dae8060ac662c0534849ecf3_icgraph.png" border="0" usemap="#communication_2gvt_8c_ae0cb1aa4dae8060ac662c0534849ecf3_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_ae0cb1aa4dae8060ac662c0534849ecf3_icgraph" id="communication_2gvt_8c_ae0cb1aa4dae8060ac662c0534849ecf3_icgraph">
<area shape="rect" id="node2" href="mpi_8h.html#aae0b9d97e0c3d31df6e27e2455e66a13" title="Initialize inter&#45;kernel communication. " alt="" coords="169,5,340,32"/>
<area shape="rect" id="node3" href="communication_8h.html#a9d1c122bc3538d94d6fd8328cd6c6a2d" title="Initialize the communication subsystem. " alt="" coords="388,5,535,32"/>
<area shape="rect" id="node4" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="583,5,673,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="721,5,776,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97741fc617b443cee108c44a26cd513b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gvt_init_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forcely extract GVT-init message from MPI. </p>
<p>This function synchronously extracts messages related to GVT initiation from the MPI library. This should be called as a fallback strategy if <a class="el" href="communication_2gvt_8c.html#abb460bc63d1b830804752ce6bdd4e30a" title="Check if there are pending GVT-init messages around. ">gvt_init_pending()</a> determined that a clean shutdown of the communication subsystem is not possible at present time. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00491">491</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a97741fc617b443cee108c44a26cd513b_icgraph.png" border="0" usemap="#communication_2gvt_8c_a97741fc617b443cee108c44a26cd513b_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a97741fc617b443cee108c44a26cd513b_icgraph" id="communication_2gvt_8c_a97741fc617b443cee108c44a26cd513b_icgraph">
<area shape="rect" id="node2" href="communication_2gvt_8h.html#ac35f5f227c553fffd0911c995c865e17" title="Shut down the MPI&#45;based distributed GVT reduction submodule. " alt="" coords="160,45,301,72"/>
<area shape="rect" id="node12" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="389,96,506,123"/>
<area shape="rect" id="node3" href="mpi_8h.html#a38b0bdfeab3308a62e50dc362ebd2a68" title="Finalize inter&#45;kernel communication. " alt="" coords="349,45,545,72"/>
<area shape="rect" id="node4" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="593,45,740,72"/>
<area shape="rect" id="node5" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="788,45,944,72"/>
<area shape="rect" id="node6" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="995,9,1150,50"/>
<area shape="rect" id="node10" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="992,96,1153,123"/>
<area shape="rect" id="node7" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1223,5,1301,32"/>
<area shape="rect" id="node8" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1371,5,1461,32"/>
<area shape="rect" id="node9" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1509,31,1564,57"/>
<area shape="rect" id="node11" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1201,107,1323,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb460bc63d1b830804752ce6bdd4e30a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gvt_init_pending </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there are pending GVT-init messages around. </p>
<p>This function tells whether some kernel is still waiting for some GVT message to be sent around, related to GVT initiation. This is used when shutting down the communication subsystem to avoid deadlock in some main loop of some simulation kernel.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if there is some GVT-related message still pending, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00477">477</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_cgraph.png" border="0" usemap="#communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_cgraph" id="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_cgraph">
<area shape="rect" id="node2" href="mpi_8c.html#a621b43e2d97c134914cb2737e13e97e2" title="Check if there are pending messages. " alt="" coords="180,5,295,32"/>
</map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_icgraph.png" border="0" usemap="#communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_icgraph" id="communication_2gvt_8c_abb460bc63d1b830804752ce6bdd4e30a_icgraph">
<area shape="rect" id="node2" href="communication_2gvt_8h.html#ac35f5f227c553fffd0911c995c865e17" title="Shut down the MPI&#45;based distributed GVT reduction submodule. " alt="" coords="180,56,321,83"/>
<area shape="rect" id="node12" href="gvt_2gvt_8h.html#a10977cb9180000f423f184cca0b6338d" title="gvt_fini" alt="" coords="653,5,720,32"/>
<area shape="rect" id="node13" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="201,157,301,184"/>
<area shape="rect" id="node3" href="mpi_8h.html#a38b0bdfeab3308a62e50dc362ebd2a68" title="Finalize inter&#45;kernel communication. " alt="" coords="369,56,565,83"/>
<area shape="rect" id="node4" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="613,56,760,83"/>
<area shape="rect" id="node5" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="808,77,964,104"/>
<area shape="rect" id="node6" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="1015,70,1170,111"/>
<area shape="rect" id="node10" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="1012,157,1173,184"/>
<area shape="rect" id="node7" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1243,77,1321,104"/>
<area shape="rect" id="node8" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1391,77,1481,104"/>
<area shape="rect" id="node9" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1529,103,1584,129"/>
<area shape="rect" id="node11" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1221,179,1343,205"/>
<area shape="rect" id="node14" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="380,157,555,184"/>
<area shape="rect" id="node15" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="419,107,516,133"/>
<area shape="rect" id="node16" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="629,107,744,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d0d87c4ff2f7290727fc3d3f9b2034f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gvt_redux_completed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if final GVT reduction is complete. </p>
<p>A call to this function, issued after a call to <a class="el" href="communication_2gvt_8c.html#a53ca71f17a218181b76a3ef8ffa12e95" title="Reduce the GVT value. ">join_gvt_redux()</a> will tell whether the final phase of the GVT reduction is complete, and the simulation kernel instance can safely access <a class="el" href="communication_2gvt_8c.html#a8ec157ed8858d0db5f0ef31ae353470a">reduced_gvt</a> to pick the newly-reduced value of the GVT.</p>
<p>This function is thread safe, so it can be called by multiple threads at one. A spinlock guard ensures that only one thread at a time performs this operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the GVT reduction operation associated with the last round is completed, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00539">539</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_cgraph.png" border="0" usemap="#communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_cgraph" id="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_cgraph">
<area shape="rect" id="node2" href="atomic_8h.html#afd2c05472274bd1c73d5408a213cf429" title="spin_trylock" alt="" coords="246,5,343,32"/>
<area shape="rect" id="node4" href="mpi_8c.html#a15047d29439a8f03a2747ecadda5b4a4" title="check if an MPI request has been completed " alt="" coords="213,56,376,83"/>
<area shape="rect" id="node5" href="atomic_8h.html#a4e8c9d1c6101995f1ecd2141d77e4824" title="spin_unlock" alt="" coords="247,107,343,133"/>
<area shape="rect" id="node3" href="x86_8c.html#af8f8b0714bc5f4f7238feae5ca425117" title="atomic_test_and_set" alt="" coords="424,5,580,32"/>
</map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_icgraph.png" border="0" usemap="#communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_icgraph" id="communication_2gvt_8c_a0d0d87c4ff2f7290727fc3d3f9b2034f_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="213,5,331,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="379,5,540,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="588,5,709,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="621,56,676,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53ca71f17a218181b76a3ef8ffa12e95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void join_gvt_redux </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a>&#160;</td>
          <td class="paramname"><em>local_vt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reduce the GVT value. </p>
<p>A call to this function can be issued only after that all threads on all simulation kernels have agreed upon a local candidate for the GVT value, and this value has been posted by some thread in <a class="el" href="communication_2gvt_8c.html#a70d5111ea49c9276982ae66d84ef4940">local_vt_buff</a>.</p>
<p>The goal of this function is to use an All Reduce non-blocking primitive to compute the minimum among the values which have been posted by all kernel instances in <a class="el" href="communication_2gvt_8c.html#a70d5111ea49c9276982ae66d84ef4940">local_vt_buff</a>.</p>
<p>Eventually, the minimum will be stored in <a class="el" href="communication_2gvt_8c.html#a8ec157ed8858d0db5f0ef31ae353470a">reduced_gvt</a> of all kernel instances. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00515">515</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a53ca71f17a218181b76a3ef8ffa12e95_icgraph.png" border="0" usemap="#communication_2gvt_8c_a53ca71f17a218181b76a3ef8ffa12e95_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a53ca71f17a218181b76a3ef8ffa12e95_icgraph" id="communication_2gvt_8c_a53ca71f17a218181b76a3ef8ffa12e95_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a10977cb9180000f423f184cca0b6338d" title="gvt_fini" alt="" coords="168,45,235,72"/>
<area shape="rect" id="node10" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="302,96,419,123"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="283,45,439,72"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="490,9,645,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="487,96,648,123"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="717,5,796,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="865,5,956,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1004,31,1059,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="696,107,817,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ed9e4affac9f35d26194a98a089f2c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void join_white_msg_redux </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Join the white message reduction collective operation. </p>
<p>All kernels will share eachother the number of white message sent during the last white phase.</p>
<p>This is an asyncronous function and the actual completion of the collective reduction can be tested through the <code><a class="el" href="communication_2gvt_8c.html#ad754b4a17c642f9672743a0a246e6467" title="Test completion of white message reduction collective operation. ">white_msg_redux_completed()</a></code> function.</p>
<p>After the collective reduction will be terminated <code>expected_white_msg</code> will hold the number of white message sent by all the other kernel to this during the last white phase. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00301">301</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a0ed9e4affac9f35d26194a98a089f2c6_icgraph.png" border="0" usemap="#communication_2gvt_8c_a0ed9e4affac9f35d26194a98a089f2c6_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a0ed9e4affac9f35d26194a98a089f2c6_icgraph" id="communication_2gvt_8c_a0ed9e4affac9f35d26194a98a089f2c6_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a10977cb9180000f423f184cca0b6338d" title="gvt_fini" alt="" coords="216,45,283,72"/>
<area shape="rect" id="node10" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="350,96,467,123"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="331,45,487,72"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="538,9,693,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="535,96,696,123"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="765,5,844,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="913,5,1004,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1052,31,1107,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="744,107,865,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a022fe9fa84d6e6614c9572d23adfcc9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a> last_reduced_gvt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the last GVT value. </p>
<p>This function returns the last GVT value which all the threads from all simulation kernel instances have agreed upon.</p>
<p>It is safe to call this function also while a GVT reduction operation is taking place.</p>
<dl class="section return"><dt>Returns</dt><dd>The current value of the GVT </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00563">563</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a022fe9fa84d6e6614c9572d23adfcc9b_icgraph.png" border="0" usemap="#communication_2gvt_8c_a022fe9fa84d6e6614c9572d23adfcc9b_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a022fe9fa84d6e6614c9572d23adfcc9b_icgraph" id="communication_2gvt_8c_a022fe9fa84d6e6614c9572d23adfcc9b_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="184,5,301,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="349,5,511,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="559,5,680,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="592,56,647,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f8f575e93930869ac20641c7305e850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_incoming_msg </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an incoming message, if necessary. </p>
<p>Any message being received by a simulation kernel instance should be passed to this function, right before being registered into any queue.</p>
<p>In this way, if the destination kernel is in a white phase, the total number of white messages received can be incremented. Consistency is ensured by the fact that atomic counters are used, making this function inherently thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to register as an incoming message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00623">623</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_cgraph.png" border="0" usemap="#communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_cgraph" id="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_cgraph">
<area shape="rect" id="node2" href="core_8c.html#a6793e4c70d69277f24ff0e494ed8ed10" title="find_kernel_by_gid" alt="" coords="224,5,363,32"/>
<area shape="rect" id="node3" href="atomic_8h.html#ae2153aa1dc0d0362246d6e14f60b5550" title="atomic_inc" alt="" coords="248,56,339,83"/>
</map>
</div>
</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_icgraph.png" border="0" usemap="#communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_icgraph" id="communication_2gvt_8c_a5f8f575e93930869ac20641c7305e850_icgraph">
<area shape="rect" id="node2" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="224,62,399,89"/>
<area shape="rect" id="node3" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="447,62,547,89"/>
<area shape="rect" id="node5" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="1107,118,1268,145"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1316,110,1437,137"/>
<area shape="rect" id="node7" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="595,62,692,89"/>
<area shape="rect" id="node6" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1624,124,1679,150"/>
<area shape="rect" id="node8" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="740,62,855,89"/>
<area shape="rect" id="node9" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="903,62,1059,89"/>
<area shape="rect" id="node10" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="1110,52,1265,94"/>
<area shape="rect" id="node11" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1337,60,1416,86"/>
<area shape="rect" id="node12" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1485,85,1576,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76f513e8aeeeb0abebc46f19ceb72293"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_outgoing_msg </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an outgoing message, if necessary. </p>
<p>Any time that a simulation kernel is sending a message towards a remote simulation kernel instance, the message should be passed to this function beforehand.</p>
<p>In this way, if the thread which sends the message is in a red phase, the minimum timestamp of red messages sent aroung is updated.</p>
<p>On the other hand, if the thread which sends the message is in a white phase, the counter of white messages sent towards the destination kernel is increased.</p>
<p>All this is fundamental information to ensure that the GVT reduction is consistent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to register as an outgoing message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00589">589</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_cgraph.png" border="0" usemap="#communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_cgraph" id="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_cgraph">
<area shape="rect" id="node2" href="core_8c.html#a6793e4c70d69277f24ff0e494ed8ed10" title="find_kernel_by_gid" alt="" coords="223,5,361,32"/>
<area shape="rect" id="node3" href="atomic_8h.html#ae2153aa1dc0d0362246d6e14f60b5550" title="atomic_inc" alt="" coords="247,56,337,83"/>
</map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_icgraph.png" border="0" usemap="#communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_icgraph" id="communication_2gvt_8c_a76f513e8aeeeb0abebc46f19ceb72293_icgraph">
<area shape="rect" id="node2" href="mpi_8h.html#a41390aa810e506d633d2cf01bc5973bb" title="Send a message to a remote LP. " alt="" coords="223,143,365,170"/>
<area shape="rect" id="node3" href="communication_8h.html#ab5250867c0edfc326732c059b0c0c3b5" title="Send a message. " alt="" coords="413,143,468,170"/>
<area shape="rect" id="node4" href="communication_8h.html#aa8047651e174f4d26bef644233b5c8f8" title="Send all antimessages for a certain LP. " alt="" coords="516,118,667,145"/>
<area shape="rect" id="node18" href="communication_8h.html#ad154a0e0c0815b786ead70143505abd6" title="Send all pending outgoing messages. " alt="" coords="715,169,873,195"/>
<area shape="rect" id="node5" href="state_8h.html#a1fd6b7926db41257e07600226d87fffa" title="rollback" alt="" coords="759,118,829,145"/>
<area shape="rect" id="node6" href="scheduler_8h.html#ac48128e72b303ea22d8ec641a9516b15" title="schedule" alt="" coords="921,143,1000,170"/>
<area shape="rect" id="node7" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="1048,118,1148,145"/>
<area shape="rect" id="node9" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="1785,71,1947,98"/>
<area shape="rect" id="node8" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1599,67,1720,94"/>
<area shape="rect" id="node11" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="1196,118,1371,145"/>
<area shape="rect" id="node12" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="1235,17,1332,43"/>
<area shape="rect" id="node10" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="2260,42,2315,69"/>
<area shape="rect" id="node13" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="1419,17,1533,43"/>
<area shape="rect" id="node14" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="1581,17,1737,43"/>
<area shape="rect" id="node15" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="1789,5,1943,47"/>
<area shape="rect" id="node16" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1995,14,2073,41"/>
<area shape="rect" id="node17" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="2121,15,2212,42"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c4efc6874baad6133dd05ed355fe8d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait_white_msg_redux </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the completion of wait message reduction. </p>
<p>This function returns only when the white message reduction operation currently being carried out is completed.</p>
<dl class="section warning"><dt>Warning</dt><dd>This is a blocking operation. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00349">349</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_a4c4efc6874baad6133dd05ed355fe8d8_icgraph.png" border="0" usemap="#communication_2gvt_8c_a4c4efc6874baad6133dd05ed355fe8d8_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_a4c4efc6874baad6133dd05ed355fe8d8_icgraph" id="communication_2gvt_8c_a4c4efc6874baad6133dd05ed355fe8d8_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a10977cb9180000f423f184cca0b6338d" title="gvt_fini" alt="" coords="219,51,285,77"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="333,51,489,77"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="541,9,695,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="537,85,699,112"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="768,5,847,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="916,5,1007,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1055,31,1109,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="747,107,868,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad754b4a17c642f9672743a0a246e6467"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool white_msg_redux_completed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test completion of white message reduction collective operation. </p>
<p>This function checks whether the asynchronous collective operation which counts whether the expected number of white messages has been received is completed.</p>
<p>This can be safely invoked concurrently by multiple worker threads, as a lock guard is used to ensure that only one thread at a time performs the check.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the reduction operation is completed, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00328">328</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_cgraph.png" border="0" usemap="#communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_cgraph" alt=""/></div>
<map name="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_cgraph" id="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_cgraph">
<area shape="rect" id="node2" href="atomic_8h.html#afd2c05472274bd1c73d5408a213cf429" title="spin_trylock" alt="" coords="294,5,391,32"/>
<area shape="rect" id="node4" href="mpi_8c.html#a15047d29439a8f03a2747ecadda5b4a4" title="check if an MPI request has been completed " alt="" coords="261,56,424,83"/>
<area shape="rect" id="node5" href="atomic_8h.html#a4e8c9d1c6101995f1ecd2141d77e4824" title="spin_unlock" alt="" coords="295,107,391,133"/>
<area shape="rect" id="node3" href="x86_8c.html#af8f8b0714bc5f4f7238feae5ca425117" title="atomic_test_and_set" alt="" coords="472,5,628,32"/>
</map>
</div>
</p>

<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_icgraph.png" border="0" usemap="#communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_icgraph" alt=""/></div>
<map name="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_icgraph" id="communication_2gvt_8c_ad754b4a17c642f9672743a0a246e6467_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="261,5,379,32"/>
<area shape="rect" id="node3" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="427,5,588,32"/>
<area shape="rect" id="node4" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="636,5,757,32"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="669,56,724,83"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1bdd8a81f11368f9f67bd69b5c3d7dd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int expected_white_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of expected white message to be received by this kernel before partecipating to the next GVT reduction </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00096">96</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a864a11544473877b76dc067332d9a8d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request* gvt_init_reqs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A vector of MPI asynchronous operations used to communicate with all kernel instances in the distributed run in order to initiate the GVT reduction protocol. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00155">155</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1557dfd2b30b86362256afd511b4a1d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gvt_init_round</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This variable is used to keep track of what round of GVT reduction we are actually starting. This is used also to make a sanity check on whether we are starting a new GVT reduction while the previous one is still pending. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00163">163</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a346cf02255cc35cfb4eda9bfd867d24c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm gvt_reduction_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Separate MPI communicator to carry out the reduction of the GVT. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00127">127</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc87f748b0df40fd022d65970728be8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structspinlock__t.html">spinlock_t</a> gvt_reduction_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Spinlock guard used to ensure that only one thread at a time attempts to perform check operations on the reduction of the GVT. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00133">133</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9e0615aa251769730f88b91b68349e4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request gvt_reduction_req</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>MPI Request operation to implement the distributed reduction of the current GVT value. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00122">122</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a70d5111ea49c9276982ae66d84ef4940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a> local_vt_buff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>In the end, the GVT reduction is implemented using an MPI All Reduce. This primitive requires some stable buffer in memory to keep the values to be reduced across all ranks. This is a global variable in which each kernel instance places its proposal for the GVT, which is reduced using MPI all reduce. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00142">142</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8ec157ed8858d0db5f0ef31ae353470a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ROOT-Sim_8h.html#a8f79ad6880e99acb4edd079069847d9d">simtime_t</a> reduced_gvt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the target temporary buffer in which MPI all reduce will place the reduced GVT value. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00148">148</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a483f79cd10cadd1e5e1c0343d994f677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phase_colour* threads_phase_colour</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Colour phase of each thread. This is a dynamically sized array which tells the current execution phase of each thread (white or red). </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00048">48</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a943588095f11794c91092610ff513342"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structatomic__t.html">atomic_t</a> white_0_msg_recv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counter of received white messages for the first white phase in a period of three. This is pointed to by <a class="el" href="communication_2gvt_8c.html#a7d8761a9e2f01cdff70593723d0c0abd">white_msg_recv</a> when relating to the current white phase. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00074">74</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7c5bf507fc67fec650614adcb3bf5a78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structatomic__t.html">atomic_t</a> white_1_msg_recv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counter of received white messages for the second white phase in a period of three. This is pointed to by <a class="el" href="communication_2gvt_8c.html#a7d8761a9e2f01cdff70593723d0c0abd">white_msg_recv</a> when relating to the current white phase. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00081">81</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a93ed03c46ed4898eb43880cfdc7818c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm white_count_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Separate MPI communicator to carry out the reduction of white messages. This communicator lives for the whole duration of the simulation. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00109">109</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8620b7dcfe0486c757dcbcd2e569b692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structspinlock__t.html">spinlock_t</a> white_count_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Spinlock guard used to ensure that only one thread at a time attempts to perform check operations on the reduction of white messages. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00116">116</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c3a3f661a96c329f9bb2954e9e280ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request white_count_req</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>MPI Request operation to implement the asynchronous counting of white messages </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00102">102</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7d8761a9e2f01cdff70593723d0c0abd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structatomic__t.html">atomic_t</a>* white_msg_recv</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>There are multiple incarnations of a white phase, namely the white phase <em>before</em> a red phase is different from the white phase <em>after</em> that same red phase. At the end, we can reduce the multiple incarnations to only two (the third white phase appearing in the execution can be merged with the first, as the second one in between ensures that no pending action on the first phase is present).</p>
<p>This aspect is implemented using two different atomic counters of white messages, so that <a class="el" href="communication_2gvt_8c.html#a7d8761a9e2f01cdff70593723d0c0abd">white_msg_recv</a> must always point to the actual counter of white message received by the current kernel that have been sent during the last global white phase. It will point either to <a class="el" href="communication_2gvt_8c.html#a943588095f11794c91092610ff513342">white_0_msg_recv</a> or to <a class="el" href="communication_2gvt_8c.html#a7c5bf507fc67fec650614adcb3bf5a78">white_1_msg_recv</a>. </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00067">67</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a39fd394b547fafedf9907b606565298a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structatomic__t.html">atomic_t</a>* white_msg_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of white message sent from this kernel to all the others during the last white phase </p>

<p>Definition at line <a class="el" href="communication_2gvt_8c_source.html#l00087">87</a> of file <a class="el" href="communication_2gvt_8c_source.html">gvt.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6d2104db64b91953bbd7b8fedbb8a094.html">communication</a></li><li class="navelem"><a class="el" href="communication_2gvt_8c.html">gvt.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
