<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>The ROme OpTimistic Simulator: src/communication/mpi.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="flatdoc.css" rel="stylesheet" type="text/css"/>
<link href="inline-params.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The ROme OpTimistic Simulator
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">A General-Purpose Multithreaded Parallel/Distributed Simulation Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mpi_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mpi.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MPI Support Module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="mpi_8h_source.html">mpi.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="core_8h_source.html">core/core.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="wnd_8h_source.html">communication/wnd.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="statistics_8h_source.html">statistics/statistics.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for mpi.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h__incl.png" border="0" usemap="#src_2communication_2mpi_8h" alt=""/></div>
<map name="src_2communication_2mpi_8h" id="src_2communication_2mpi_8h">
<area shape="rect" id="node3" href="core_8h.html" title="Core ROOT&#45;Sim functionalities. " alt="" coords="942,633,1037,660"/>
<area shape="rect" id="node19" href="wnd_8h.html" title="Message delivery support. " alt="" coords="677,156,840,183"/>
<area shape="rect" id="node37" href="statistics_8h.html" title="Statistics module. " alt="" coords="1043,81,1195,108"/>
<area shape="rect" id="node4" href="ROOT-Sim_8h.html" title="ROOT&#45;Sim header for model development. " alt="" coords="704,708,803,735"/>
<area shape="rect" id="node14" href="thread_8h.html" title="Generic thread management facilities. " alt="" coords="1405,708,1513,735"/>
<area shape="rect" id="node15" href="atomic_8h.html" title="Atomic operations. " alt="" coords="115,783,226,809"/>
<area shape="rect" id="node20" href="list_8h.html" title="Generic Lists. " alt="" coords="180,633,300,660"/>
<area shape="rect" id="node23" href="mm_8h.html" title="Memory Manager main header. " alt="" coords="669,245,760,272"/>
<area shape="rect" id="node25" href="dymelor_8h.html" title="Dynamic Memory Logger and Restorer (DyMeLoR) " alt="" coords="651,335,765,361"/>
<area shape="rect" id="node26" href="bitmap_8h.html" title="Bitmap data type. " alt="" coords="709,559,856,585"/>
<area shape="rect" id="node28" href="state_8h.html" title="LP state management. " alt="" coords="1083,409,1181,436"/>
<area shape="rect" id="node34" href="timer_8h.html" title="Timers. " alt="" coords="424,409,523,436"/>
<area shape="rect" id="node29" href="numerical_8h.html" title="Numerical Library. " alt="" coords="1573,484,1688,511"/>
<area shape="rect" id="node30" href="abm__layer_8h_source.html" title="lib/abm_layer.h" alt="" coords="1159,484,1278,511"/>
<area shape="rect" id="node31" href="topology_8h_source.html" title="lib/topology.h" alt="" coords="699,484,805,511"/>
<area shape="rect" id="node32" href="jsmn__helper_8h_source.html" title="lib/jsmn_helper.h" alt="" coords="353,559,482,585"/>
<area shape="rect" id="node33" href="jsmn_8h_source.html" title="lib/jsmn.h" alt="" coords="349,633,432,660"/>
<area shape="rect" id="node38" href="process_8h.html" title="LP control blocks. " alt="" coords="1093,156,1243,183"/>
<area shape="rect" id="node39" href="ecs_8h.html" title="Event &amp; Cross State Synchornization. " alt="" coords="993,245,1079,272"/>
<area shape="rect" id="node40" href="msgchannel_8h.html" title="A (M, 1) channel for messages. " alt="" coords="1033,559,1213,585"/>
<area shape="rect" id="node41" href="ult_8h.html" title="User&#45;Level Threads Headers. " alt="" coords="1279,245,1361,272"/>
<area shape="rect" id="node44" href="communication_8h.html" title="Communication Routines. " alt="" coords="1498,409,1734,436"/>
<area shape="rect" id="node45" href="cross__state__manager_8h.html" title="Per&#45;thread page table. " alt="" coords="1393,231,1559,287"/>
<area shape="rect" id="node42" href="jmp_8h.html" title="Architecture&#45;independent ULT header. " alt="" coords="1357,335,1448,361"/>
<area shape="rect" id="node43" href="x86_2jmp_8h.html" title="x86 ULT support header " alt="" coords="1357,409,1475,436"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h__dep__incl.png" border="0" usemap="#src_2communication_2mpi_8hdep" alt=""/></div>
<map name="src_2communication_2mpi_8hdep" id="src_2communication_2mpi_8hdep">
<area shape="rect" id="node2" href="communication_8c.html" title="Communication Routines. " alt="" coords="5,81,264,108"/>
<area shape="rect" id="node3" href="communication_2gvt_8c.html" title="Distributed GVT Support module. " alt="" coords="288,81,467,108"/>
<area shape="rect" id="node4" href="mpi_8c.html" title="MPI Support Module. " alt="" coords="426,156,609,182"/>
<area shape="rect" id="node5" href="wnd_8c.html" title="Message delivery support. " alt="" coords="660,156,844,182"/>
<area shape="rect" id="node6" href="wnd_8h.html" title="Message delivery support. " alt="" coords="542,81,727,108"/>
<area shape="rect" id="node7" href="init_8c.html" title="Initialization routines. " alt="" coords="803,81,909,108"/>
<area shape="rect" id="node8" href="ccgs_8c.html" title="Consistent and Committed Global State. " alt="" coords="933,81,1043,108"/>
<area shape="rect" id="node9" href="gvt_2gvt_8c.html" title="Global Virtual Time. " alt="" coords="1067,81,1167,108"/>
<area shape="rect" id="node10" href="main_8c.html" title="This module contains the entry point for the simulator, and some core functions. " alt="" coords="1192,81,1280,108"/>
<area shape="rect" id="node11" href="statistics_8c.html" title="Statistics module. " alt="" coords="1305,81,1479,108"/>
</map>
</div>
</div>
<p><a href="mpi_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6432fad2842d3aeb3a8dbdc3bdbd069f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6432fad2842d3aeb3a8dbdc3bdbd069f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a6432fad2842d3aeb3a8dbdc3bdbd069f">lock_mpi</a>()&#160;&#160;&#160;{if(!<a class="el" href="mpi_8h.html#a3e82f40925f9eb936be2724f92e9524f">mpi_support_multithread</a>) <a class="el" href="x86_8c.html#a7a6b9868956dd8e51e5de80e16c76fc4">spin_lock</a>(&amp;<a class="el" href="mpi_8h.html#a46fe48a4497654d137246733217dad47">mpi_lock</a>);}</td></tr>
<tr class="memdesc:a6432fad2842d3aeb3a8dbdc3bdbd069f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro takes a global lock if multithread support is not available from MPI. <br /></td></tr>
<tr class="separator:a6432fad2842d3aeb3a8dbdc3bdbd069f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade078d9933286023679313382e53a571"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade078d9933286023679313382e53a571"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#ade078d9933286023679313382e53a571">unlock_mpi</a>()&#160;&#160;&#160;{if(!<a class="el" href="mpi_8h.html#a3e82f40925f9eb936be2724f92e9524f">mpi_support_multithread</a>) <a class="el" href="x86_8c.html#a4e8c9d1c6101995f1ecd2141d77e4824">spin_unlock</a>(&amp;<a class="el" href="mpi_8h.html#a46fe48a4497654d137246733217dad47">mpi_lock</a>);}</td></tr>
<tr class="memdesc:ade078d9933286023679313382e53a571"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro releases a global lock if multithreaded support is not available from MPI. <br /></td></tr>
<tr class="separator:ade078d9933286023679313382e53a571"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa28df986cba93d0b18e22584f3d7a68e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#aa28df986cba93d0b18e22584f3d7a68e">mpi_init</a> (int *argc, char ***argv)</td></tr>
<tr class="memdesc:aa28df986cba93d0b18e22584f3d7a68e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize MPI subsystem.  <a href="#aa28df986cba93d0b18e22584f3d7a68e">More...</a><br /></td></tr>
<tr class="separator:aa28df986cba93d0b18e22584f3d7a68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0b9d97e0c3d31df6e27e2455e66a13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#aae0b9d97e0c3d31df6e27e2455e66a13">inter_kernel_comm_init</a> (void)</td></tr>
<tr class="memdesc:aae0b9d97e0c3d31df6e27e2455e66a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize inter-kernel communication.  <a href="#aae0b9d97e0c3d31df6e27e2455e66a13">More...</a><br /></td></tr>
<tr class="separator:aae0b9d97e0c3d31df6e27e2455e66a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b0bdfeab3308a62e50dc362ebd2a68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a38b0bdfeab3308a62e50dc362ebd2a68">inter_kernel_comm_finalize</a> (void)</td></tr>
<tr class="memdesc:a38b0bdfeab3308a62e50dc362ebd2a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize inter-kernel communication.  <a href="#a38b0bdfeab3308a62e50dc362ebd2a68">More...</a><br /></td></tr>
<tr class="separator:a38b0bdfeab3308a62e50dc362ebd2a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7210aa16a06c6aab812ae96561c30a8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a7210aa16a06c6aab812ae96561c30a8d">mpi_finalize</a> (void)</td></tr>
<tr class="memdesc:a7210aa16a06c6aab812ae96561c30a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize MPI.  <a href="#a7210aa16a06c6aab812ae96561c30a8d">More...</a><br /></td></tr>
<tr class="separator:a7210aa16a06c6aab812ae96561c30a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5b6bd7866b813152f5ead12012dc46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a4d5b6bd7866b813152f5ead12012dc46">syncronize_all</a> (void)</td></tr>
<tr class="memdesc:a4d5b6bd7866b813152f5ead12012dc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Syncronize all the kernels.  <a href="#a4d5b6bd7866b813152f5ead12012dc46">More...</a><br /></td></tr>
<tr class="separator:a4d5b6bd7866b813152f5ead12012dc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41390aa810e506d633d2cf01bc5973bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a41390aa810e506d633d2cf01bc5973bb">send_remote_msg</a> (<a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *msg)</td></tr>
<tr class="memdesc:a41390aa810e506d633d2cf01bc5973bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to a remote LP.  <a href="#a41390aa810e506d633d2cf01bc5973bb">More...</a><br /></td></tr>
<tr class="separator:a41390aa810e506d633d2cf01bc5973bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621b43e2d97c134914cb2737e13e97e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a621b43e2d97c134914cb2737e13e97e2">pending_msgs</a> (int tag)</td></tr>
<tr class="memdesc:a621b43e2d97c134914cb2737e13e97e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are pending messages.  <a href="#a621b43e2d97c134914cb2737e13e97e2">More...</a><br /></td></tr>
<tr class="separator:a621b43e2d97c134914cb2737e13e97e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad243611fd168b265105bce70c193394d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#ad243611fd168b265105bce70c193394d">receive_remote_msgs</a> (void)</td></tr>
<tr class="memdesc:ad243611fd168b265105bce70c193394d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive remote messages.  <a href="#ad243611fd168b265105bce70c193394d">More...</a><br /></td></tr>
<tr class="separator:ad243611fd168b265105bce70c193394d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a51ff17a2183a2294b2e499cf27aa2e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a9a51ff17a2183a2294b2e499cf27aa2e">is_request_completed</a> (MPI_Request *)</td></tr>
<tr class="memdesc:a9a51ff17a2183a2294b2e499cf27aa2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if an MPI request has been completed  <a href="#a9a51ff17a2183a2294b2e499cf27aa2e">More...</a><br /></td></tr>
<tr class="separator:a9a51ff17a2183a2294b2e499cf27aa2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eee6c486d9315786303fa10db834e15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a1eee6c486d9315786303fa10db834e15">all_kernels_terminated</a> (void)</td></tr>
<tr class="memdesc:a1eee6c486d9315786303fa10db834e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all kernels have reached the termination condition.  <a href="#a1eee6c486d9315786303fa10db834e15">More...</a><br /></td></tr>
<tr class="separator:a1eee6c486d9315786303fa10db834e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecfbd08110aec0112352a4d920068094"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#aecfbd08110aec0112352a4d920068094">broadcast_termination</a> (void)</td></tr>
<tr class="memdesc:aecfbd08110aec0112352a4d920068094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify all the kernels about local termination.  <a href="#aecfbd08110aec0112352a4d920068094">More...</a><br /></td></tr>
<tr class="separator:aecfbd08110aec0112352a4d920068094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d485235dd4145edaa8eabe632a77f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a19d485235dd4145edaa8eabe632a77f6">collect_termination</a> (void)</td></tr>
<tr class="memdesc:a19d485235dd4145edaa8eabe632a77f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if other kernels have reached the termination condition.  <a href="#a19d485235dd4145edaa8eabe632a77f6">More...</a><br /></td></tr>
<tr class="separator:a19d485235dd4145edaa8eabe632a77f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c28812c2cc4f081bcd859460702d850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a1c28812c2cc4f081bcd859460702d850">mpi_reduce_statistics</a> (struct <a class="el" href="structstat__t.html">stat_t</a> *, struct <a class="el" href="structstat__t.html">stat_t</a> *)</td></tr>
<tr class="memdesc:a1c28812c2cc4f081bcd859460702d850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke statistics reduction.  <a href="#a1c28812c2cc4f081bcd859460702d850">More...</a><br /></td></tr>
<tr class="separator:a1c28812c2cc4f081bcd859460702d850"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3e82f40925f9eb936be2724f92e9524f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e82f40925f9eb936be2724f92e9524f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a3e82f40925f9eb936be2724f92e9524f">mpi_support_multithread</a></td></tr>
<tr class="memdesc:a3e82f40925f9eb936be2724f92e9524f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag telling whether the MPI runtime supports multithreading. <br /></td></tr>
<tr class="separator:a3e82f40925f9eb936be2724f92e9524f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fe48a4497654d137246733217dad47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structspinlock__t.html">spinlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpi_8h.html#a46fe48a4497654d137246733217dad47">mpi_lock</a></td></tr>
<tr class="separator:a46fe48a4497654d137246733217dad47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MPI Support Module. </p>
<p>MPI Support Module</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2008-2019 HPDCS Group <a href="https://hpdcs.github.io">https://hpdcs.github.io</a></dd></dl>
<p>This file is part of ROOT-Sim (ROme OpTimistic Simulator).</p>
<p>ROOT-Sim is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; only version 3 of the License applies.</p>
<p>ROOT-Sim is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with ROOT-Sim; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA</p>
<dl class="section author"><dt>Author</dt><dd>Tommaso Tocci </dd></dl>

<p>Definition in file <a class="el" href="mpi_8h_source.html">mpi.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1eee6c486d9315786303fa10db834e15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool all_kernels_terminated </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if all kernels have reached the termination condition. </p>
<p>This function checks whether all threads have been informed of the fact that the simulation should be halted, and they have taken proper actions to terminate. Once this function confirms this condition, the process can safely exit.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function can be called only <b>after</b> a call to <a class="el" href="mpi_8c.html#aecfbd08110aec0112352a4d920068094" title="Notify all the kernels about local termination. ">broadcast_termination()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if all the kernel have reached the termination condition </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00270">270</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

</div>
</div>
<a class="anchor" id="aecfbd08110aec0112352a4d920068094"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void broadcast_termination </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify all the kernels about local termination. </p>
<p>This function is used to inform all other simulation kernel instances that this kernel is ready to terminate the simulation.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is not thread safe and should be used only by one thread at a time</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function can be used concurrently with other MPI functions (hence its thread unsafety)</dd>
<dd>
This function can be called multiple times, but the actual broadcast operation will be executed only on the first call. </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00327">327</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

</div>
</div>
<a class="anchor" id="a19d485235dd4145edaa8eabe632a77f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collect_termination </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if other kernels have reached the termination condition. </p>
<p>This function accumulates termination acknoledgements from remote kernels, and updates the <a class="el" href="mpi_8c.html#a413a65c2f20603153b4dd8c7b414db54">terminated</a> counter.</p>
<dl class="section note"><dt>Note</dt><dd>This function can be called at any point of the simulation, but it will be effective only after that <a class="el" href="mpi_8c.html#aecfbd08110aec0112352a4d920068094" title="Notify all the kernels about local termination. ">broadcast_termination()</a> has been called locally.</dd>
<dd>
This function is thread-safe </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00289">289</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_cgraph.png" border="0" usemap="#mpi_8h_a19d485235dd4145edaa8eabe632a77f6_cgraph" alt=""/></div>
<map name="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_cgraph" id="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_cgraph">
<area shape="rect" id="node2" href="atomic_8h.html#afd2c05472274bd1c73d5408a213cf429" title="spin_trylock" alt="" coords="206,5,303,32"/>
<area shape="rect" id="node4" href="mpi_8c.html#a621b43e2d97c134914cb2737e13e97e2" title="Check if there are pending messages. " alt="" coords="197,56,312,83"/>
<area shape="rect" id="node5" href="atomic_8h.html#a4e8c9d1c6101995f1ecd2141d77e4824" title="spin_unlock" alt="" coords="207,107,303,133"/>
<area shape="rect" id="node3" href="x86_8c.html#af8f8b0714bc5f4f7238feae5ca425117" title="atomic_test_and_set" alt="" coords="360,5,516,32"/>
</map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_icgraph.png" border="0" usemap="#mpi_8h_a19d485235dd4145edaa8eabe632a77f6_icgraph" alt=""/></div>
<map name="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_icgraph" id="mpi_8h_a19d485235dd4145edaa8eabe632a77f6_icgraph">
<area shape="rect" id="node2" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="197,5,359,32"/>
<area shape="rect" id="node3" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="407,5,528,32"/>
<area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="440,56,495,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38b0bdfeab3308a62e50dc362ebd2a68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inter_kernel_comm_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize inter-kernel communication. </p>
<p>This function shutdown the subsystems associated with inter-kernel communication. </p>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00562">562</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_cgraph.png" border="0" usemap="#mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_cgraph" alt=""/></div>
<map name="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_cgraph" id="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_cgraph">
<area shape="rect" id="node2" href="mpi_8c.html#a3ac4bf6fda6cd92f529134aac34edabf" title="Cleanup routine of the distributed termination subsystem. " alt="" coords="249,5,427,32"/>
<area shape="rect" id="node3" href="communication_2gvt_8c.html#ac35f5f227c553fffd0911c995c865e17" title="Shut down the MPI&#45;based distributed GVT reduction submodule. " alt="" coords="267,56,409,83"/>
<area shape="rect" id="node4" href="communication_2gvt_8c.html#abb460bc63d1b830804752ce6bdd4e30a" title="Check if there are pending GVT&#45;init messages around. " alt="" coords="475,31,601,57"/>
<area shape="rect" id="node6" href="communication_2gvt_8c.html#a97741fc617b443cee108c44a26cd513b" title="Forcely extract GVT&#45;init message from MPI. " alt="" coords="485,81,591,108"/>
<area shape="rect" id="node5" href="mpi_8c.html#a621b43e2d97c134914cb2737e13e97e2" title="Check if there are pending messages. " alt="" coords="649,31,764,57"/>
</map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_icgraph.png" border="0" usemap="#mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_icgraph" alt=""/></div>
<map name="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_icgraph" id="mpi_8h_a38b0bdfeab3308a62e50dc362ebd2a68_icgraph">
<area shape="rect" id="node2" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="249,51,396,77"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="444,51,600,77"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="651,9,806,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="648,85,809,112"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="879,5,957,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1027,5,1117,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1165,31,1220,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="857,107,979,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae0b9d97e0c3d31df6e27e2455e66a13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inter_kernel_comm_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize inter-kernel communication. </p>
<p>This function initializes inter-kernel communication, by initializing all the other communication subsystems. </p>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00545">545</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_cgraph.png" border="0" usemap="#mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_cgraph" alt=""/></div>
<map name="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_cgraph" id="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_cgraph">
<area shape="rect" id="node2" href="wnd_8c.html#a620f72de0294d3c638894de54d14ea27" title="Outgoing queue initialization. " alt="" coords="224,5,380,32"/>
<area shape="rect" id="node3" href="communication_2gvt_8c.html#ae0cb1aa4dae8060ac662c0534849ecf3" title="Initialize the MPI&#45;based distributed GVT reduction submodule. " alt="" coords="244,56,360,83"/>
<area shape="rect" id="node4" href="mpi_8c.html#a6e129776fd0d7fc31a255a396ce28c39" title="Setup the distributed termination subsystem. " alt="" coords="226,107,378,133"/>
<area shape="rect" id="node5" href="mpi_8c.html#a013115e2b9fb4af92de3a6b212fc8065" title="Initialize MPI Datatype and Operation for statistics reduction. " alt="" coords="229,157,375,184"/>
<area shape="rect" id="node6" href="mpi_8c.html#ace2c9a712d7d5f8e73dda54c9de3e358" title="Reduce operation for statistics. " alt="" coords="428,157,573,184"/>
</map>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_icgraph.png" border="0" usemap="#mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_icgraph" alt=""/></div>
<map name="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_icgraph" id="mpi_8h_aae0b9d97e0c3d31df6e27e2455e66a13_icgraph">
<area shape="rect" id="node2" href="communication_8h.html#a9d1c122bc3538d94d6fd8328cd6c6a2d" title="Initialize the communication subsystem. " alt="" coords="224,5,371,32"/>
<area shape="rect" id="node3" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="419,5,509,32"/>
<area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="557,5,612,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a51ff17a2183a2294b2e499cf27aa2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_request_completed </td>
          <td>(</td>
          <td class="paramtype">MPI_Request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if an MPI request has been completed </p>
<p>This function checks whether the operation associated with the specified MPI Request has been completed or not.</p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>A pointer to the MPI_Request to check for completion</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the operation associated with <code>req</code> is complete, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00144">144</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a9a51ff17a2183a2294b2e499cf27aa2e_icgraph.png" border="0" usemap="#mpi_8h_a9a51ff17a2183a2294b2e499cf27aa2e_icgraph" alt=""/></div>
<map name="mpi_8h_a9a51ff17a2183a2294b2e499cf27aa2e_icgraph" id="mpi_8h_a9a51ff17a2183a2294b2e499cf27aa2e_icgraph">
<area shape="rect" id="node2" href="communication_2gvt_8h.html#ad754b4a17c642f9672743a0a246e6467" title="Test completion of white message reduction collective operation. " alt="" coords="216,5,424,32"/>
<area shape="rect" id="node7" href="communication_2gvt_8h.html#ae81bd7f5958dcb41dad5c697a6628569" title="Initiate a distributed GVT. " alt="" coords="251,56,389,83"/>
<area shape="rect" id="node8" href="communication_2gvt_8h.html#a0d0d87c4ff2f7290727fc3d3f9b2034f" title="Check if final GVT reduction is complete. " alt="" coords="240,107,400,133"/>
<area shape="rect" id="node9" href="wnd_8c.html#af652d88db30c0405a4d1bfc6de43cffc" title="Check if a message has been delivered. " alt="" coords="254,157,386,184"/>
<area shape="rect" id="node3" href="gvt_2gvt_8h.html#a899b50ab45427cf145360ff3a6c29808" title="gvt_operations" alt="" coords="498,60,615,87"/>
<area shape="rect" id="node4" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="923,76,1085,103"/>
<area shape="rect" id="node5" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1143,76,1264,103"/>
<area shape="rect" id="node6" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1176,127,1231,153"/>
<area shape="rect" id="node10" href="wnd_8c.html#a9b192f19fc6af0cfd7bcefd788b0b93f" title="Prune an outgoing queue. " alt="" coords="472,132,641,159"/>
<area shape="rect" id="node11" href="wnd_8h.html#a157ee75a6300b4d0ae3c99afe8c3ae6a" title="Prune all outgoing queues. " alt="" coords="689,129,865,156"/>
<area shape="rect" id="node12" href="wnd_8h.html#acbe46c456aa03b014ca2134604700789" title="Finalize the message delivery subsystem. " alt="" coords="913,129,1095,156"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7210aa16a06c6aab812ae96561c30a8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpi_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize MPI. </p>
<p>This function shutdown the MPI subsystem</p>
<dl class="section note"><dt>Note</dt><dd>Only the master thread on each simulation kernel is expected to call this function </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00578">578</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a7210aa16a06c6aab812ae96561c30a8d_icgraph.png" border="0" usemap="#mpi_8h_a7210aa16a06c6aab812ae96561c30a8d_icgraph" alt=""/></div>
<map name="mpi_8h_a7210aa16a06c6aab812ae96561c30a8d_icgraph" id="mpi_8h_a7210aa16a06c6aab812ae96561c30a8d_icgraph">
<area shape="rect" id="node2" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="151,51,297,77"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="345,51,501,77"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="553,9,707,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="549,85,711,112"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="780,5,859,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="928,5,1019,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1067,31,1121,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="759,107,880,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa28df986cba93d0b18e22584f3d7a68e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpi_init </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize MPI subsystem. </p>
<p>This is mainly a wrapper of MPI_Init, which contains some boilerplate code to initialize datastructures.</p>
<p>Most notably, here we determine if the library which we are using has suitable multithreading support, and we setup the MPI Communicator which will be used later on to exhange model-specific messages. </p>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00514">514</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_aa28df986cba93d0b18e22584f3d7a68e_icgraph.png" border="0" usemap="#mpi_8h_aa28df986cba93d0b18e22584f3d7a68e_icgraph" alt=""/></div>
<map name="mpi_8h_aa28df986cba93d0b18e22584f3d7a68e_icgraph" id="mpi_8h_aa28df986cba93d0b18e22584f3d7a68e_icgraph">
<area shape="rect" id="node2" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="125,5,216,32"/>
<area shape="rect" id="node3" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="264,5,319,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c28812c2cc4f081bcd859460702d850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpi_reduce_statistics </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__t.html">stat_t</a> *&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat__t.html">stat_t</a> *&#160;</td>
          <td class="paramname"><em>local</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke statistics reduction. </p>
<p>This function is a simple wrapper of an MPI_Reduce operation, which uses the custom reduce operation implemented in <a class="el" href="mpi_8c.html#ace2c9a712d7d5f8e73dda54c9de3e358" title="Reduce operation for statistics. ">reduce_stat_vector()</a> to gather reduced statistics in the master kernel (rank 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">global</td><td>A pointer to a struct <a class="el" href="structstat__t.html">stat_t</a> where reduced statistics will be stored. The reduction only takes place at rank 0, therefore other simulation kernel instances will never read actual meaningful information in that structure. </td></tr>
    <tr><td class="paramname">local</td><td>A pointer to a local struct <a class="el" href="structstat__t.html">stat_t</a> which is used as the source of information for the distributed reduction operation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00428">428</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a1c28812c2cc4f081bcd859460702d850_icgraph.png" border="0" usemap="#mpi_8h_a1c28812c2cc4f081bcd859460702d850_icgraph" alt=""/></div>
<map name="mpi_8h_a1c28812c2cc4f081bcd859460702d850_icgraph" id="mpi_8h_a1c28812c2cc4f081bcd859460702d850_icgraph">
<area shape="rect" id="node2" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="215,51,329,77"/>
<area shape="rect" id="node3" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="377,51,533,77"/>
<area shape="rect" id="node4" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="585,9,739,50"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="581,85,743,112"/>
<area shape="rect" id="node5" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="812,5,891,32"/>
<area shape="rect" id="node6" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="960,5,1051,32"/>
<area shape="rect" id="node7" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1099,31,1153,57"/>
<area shape="rect" id="node9" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="791,107,912,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a621b43e2d97c134914cb2737e13e97e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pending_msgs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there are pending messages. </p>
<p>This function tells whether there is a pending message in the underlying MPI library coming from any remote simulation kernel instance. If passing a tag different from MPI_ANY_TAG to this function, a specific tag can be extracted.</p>
<p>Messages are only extracted from MPI_COMM_WORLD communicator. This is therefore only useful in startup/shutdown operations (this is used indeed to initiate GVT and conclude the distributed simulation shutdown).</p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>The tag of the messages to check for availability.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if a pending message tagged with <code>tag</code> is found, <code>false</code> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00122">122</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a621b43e2d97c134914cb2737e13e97e2_icgraph.png" border="0" usemap="#mpi_8h_a621b43e2d97c134914cb2737e13e97e2_icgraph" alt=""/></div>
<map name="mpi_8h_a621b43e2d97c134914cb2737e13e97e2_icgraph" id="mpi_8h_a621b43e2d97c134914cb2737e13e97e2_icgraph">
<area shape="rect" id="node2" href="communication_2gvt_8h.html#abb460bc63d1b830804752ce6bdd4e30a" title="Check if there are pending GVT&#45;init messages around. " alt="" coords="168,120,295,147"/>
<area shape="rect" id="node18" href="mpi_8h.html#a19d485235dd4145edaa8eabe632a77f6" title="Check if other kernels have reached the termination condition. " alt="" coords="977,259,1121,285"/>
<area shape="rect" id="node3" href="communication_2gvt_8h.html#ac35f5f227c553fffd0911c995c865e17" title="Shut down the MPI&#45;based distributed GVT reduction submodule. " alt="" coords="343,81,484,108"/>
<area shape="rect" id="node13" href="gvt_2gvt_8h.html#a10977cb9180000f423f184cca0b6338d" title="gvt_fini" alt="" coords="816,5,883,32"/>
<area shape="rect" id="node14" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="363,157,463,184"/>
<area shape="rect" id="node4" href="mpi_8h.html#a38b0bdfeab3308a62e50dc362ebd2a68" title="Finalize inter&#45;kernel communication. " alt="" coords="532,56,728,83"/>
<area shape="rect" id="node5" href="communication_8h.html#a6bd2f352e0326608e9a2bef2efbde184" title="Finalize the communication subsystem. " alt="" coords="776,56,923,83"/>
<area shape="rect" id="node6" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="971,99,1127,125"/>
<area shape="rect" id="node7" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="1178,91,1333,133"/>
<area shape="rect" id="node11" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="1175,208,1336,235"/>
<area shape="rect" id="node8" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1405,103,1484,129"/>
<area shape="rect" id="node9" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1553,131,1644,157"/>
<area shape="rect" id="node10" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1692,169,1747,196"/>
<area shape="rect" id="node12" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1384,157,1505,184"/>
<area shape="rect" id="node15" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="543,208,717,235"/>
<area shape="rect" id="node16" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="581,107,679,133"/>
<area shape="rect" id="node17" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="792,107,907,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad243611fd168b265105bce70c193394d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void receive_remote_msgs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive remote messages. </p>
<p>This function extracts from MPI events destined to locally-hosted LPs. Only messages to LP can be extracted here, because the probing is done towards the <a class="el" href="mpi_8c.html#a1fe3bf2e6acc84dcfee27e902f41c676">msg_comm</a> communicator.</p>
<p>A message which is extracted here is placed (out of order) in the bottom half of the destination LP, for later insertion (in order) in the input queue.</p>
<p>This function will try to extract as many messages as possible from the underlying MPI library. In particular, once this function is called, it will return only after that <em>no</em> <em>message</em> can be found in the MPI library, destined to this simulation kernel instance.</p>
<p>Currently, this function is called once per main loop iteration. Doing more calls might significantly imbalance the workload of some worker thread.</p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00208">208</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_ad243611fd168b265105bce70c193394d_cgraph.png" border="0" usemap="#mpi_8h_ad243611fd168b265105bce70c193394d_cgraph" alt=""/></div>
<map name="mpi_8h_ad243611fd168b265105bce70c193394d_cgraph" id="mpi_8h_ad243611fd168b265105bce70c193394d_cgraph">
<area shape="rect" id="node2" href="atomic_8h.html#afd2c05472274bd1c73d5408a213cf429" title="spin_trylock" alt="" coords="243,5,340,32"/>
<area shape="rect" id="node4" href="communication_8c.html#ab957dc2cd186382c50ef8cfde9761909" title="Get a buffer to keep a message. " alt="" coords="217,56,365,83"/>
<area shape="rect" id="node5" href="communication_8c.html#aebec05b86f3467473116d555954b80f4" title="Perform some sanity checks on a message buffer. " alt="" coords="438,132,545,159"/>
<area shape="rect" id="node7" href="queues_8c.html#a9ff164dd6a938afa7e892f4028c2a033" title="insert_bottom_half" alt="" coords="220,157,363,184"/>
<area shape="rect" id="node8" href="atomic_8h.html#a4e8c9d1c6101995f1ecd2141d77e4824" title="spin_unlock" alt="" coords="243,208,339,235"/>
<area shape="rect" id="node3" href="x86_8c.html#af8f8b0714bc5f4f7238feae5ca425117" title="atomic_test_and_set" alt="" coords="413,5,569,32"/>
<area shape="rect" id="node6" href="communication_8c.html#ab442ee81854e910ac0b21e3caf21cc48" title="Tell the GID of the sender of a message, given its mark. " alt="" coords="617,132,719,159"/>
</map>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_ad243611fd168b265105bce70c193394d_icgraph.png" border="0" usemap="#mpi_8h_ad243611fd168b265105bce70c193394d_icgraph" alt=""/></div>
<map name="mpi_8h_ad243611fd168b265105bce70c193394d_icgraph" id="mpi_8h_ad243611fd168b265105bce70c193394d_icgraph">
<area shape="rect" id="node2" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="217,118,317,145"/>
<area shape="rect" id="node4" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="955,71,1116,98"/>
<area shape="rect" id="node3" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="768,67,889,94"/>
<area shape="rect" id="node6" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="365,118,540,145"/>
<area shape="rect" id="node7" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="404,17,501,43"/>
<area shape="rect" id="node5" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1429,42,1484,69"/>
<area shape="rect" id="node8" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="588,17,703,43"/>
<area shape="rect" id="node9" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="751,17,907,43"/>
<area shape="rect" id="node10" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="958,5,1113,47"/>
<area shape="rect" id="node11" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1164,14,1243,41"/>
<area shape="rect" id="node12" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1291,15,1381,42"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a41390aa810e506d633d2cf01bc5973bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_remote_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to a remote LP. </p>
<p>This function takes in charge an event to be delivered to a remote LP. The sending operation is non-blocking: to this end, the message is registered into the outgoing queue of the destination kernel, in order to allow MPI to keep track of the sending operation.</p>
<p>Also, the message being sent is registered at the sender thread, to keep track of the white/red message information which is necessary to correctly reduce the GVT value.</p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A pointer to the <a class="el" href="core_8h.html#abb831098e1334cd59d2c5e374416680e">msg_t</a> keeping the message to be sent remotely </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00169">169</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_cgraph.png" border="0" usemap="#mpi_8h_a41390aa810e506d633d2cf01bc5973bb_cgraph" alt=""/></div>
<map name="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_cgraph" id="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_cgraph">
<area shape="rect" id="node2" href="wnd_8c.html#a76d33aed8e7dfe9ab6d8ce4f9b1f4fd8" title="Allocate a buffer for an outgoing message node. " alt="" coords="196,5,367,32"/>
<area shape="rect" id="node3" href="core_8c.html#a6793e4c70d69277f24ff0e494ed8ed10" title="find_kernel_by_gid" alt="" coords="415,56,553,83"/>
<area shape="rect" id="node4" href="communication_2gvt_8c.html#a76f513e8aeeeb0abebc46f19ceb72293" title="Register an outgoing message, if necessary. " alt="" coords="197,107,366,133"/>
<area shape="rect" id="node6" href="wnd_8c.html#a16850c4710b9b54fc67b88547b3b87ee" title="Store an outgoing message. " alt="" coords="205,157,358,184"/>
<area shape="rect" id="node5" href="atomic_8h.html#ae2153aa1dc0d0362246d6e14f60b5550" title="atomic_inc" alt="" coords="439,107,529,133"/>
<area shape="rect" id="node7" href="atomic_8h.html#a7a6b9868956dd8e51e5de80e16c76fc4" title="spin_lock" alt="" coords="444,157,524,184"/>
<area shape="rect" id="node8" href="atomic_8h.html#a4e8c9d1c6101995f1ecd2141d77e4824" title="spin_unlock" alt="" coords="436,208,532,235"/>
</map>
</div>
</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_icgraph.png" border="0" usemap="#mpi_8h_a41390aa810e506d633d2cf01bc5973bb_icgraph" alt=""/></div>
<map name="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_icgraph" id="mpi_8h_a41390aa810e506d633d2cf01bc5973bb_icgraph">
<area shape="rect" id="node2" href="communication_8h.html#ab5250867c0edfc326732c059b0c0c3b5" title="Send a message. " alt="" coords="196,143,251,170"/>
<area shape="rect" id="node3" href="communication_8h.html#aa8047651e174f4d26bef644233b5c8f8" title="Send all antimessages for a certain LP. " alt="" coords="299,118,449,145"/>
<area shape="rect" id="node17" href="communication_8h.html#ad154a0e0c0815b786ead70143505abd6" title="Send all pending outgoing messages. " alt="" coords="497,169,656,195"/>
<area shape="rect" id="node4" href="state_8h.html#a1fd6b7926db41257e07600226d87fffa" title="rollback" alt="" coords="541,118,612,145"/>
<area shape="rect" id="node5" href="scheduler_8h.html#ac48128e72b303ea22d8ec641a9516b15" title="schedule" alt="" coords="704,143,783,170"/>
<area shape="rect" id="node6" href="gvt_2gvt_8h.html#a234e866bb1e37fa25dec9bb40134234d" title="get_last_gvt" alt="" coords="831,118,931,145"/>
<area shape="rect" id="node8" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="1568,71,1729,98"/>
<area shape="rect" id="node7" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="1381,67,1503,94"/>
<area shape="rect" id="node10" href="queues_8h.html#a54eca9bfa893cac072d1b1d3010c2944" title="process_bottom_halves" alt="" coords="979,118,1153,145"/>
<area shape="rect" id="node11" href="statistics_8c.html#ab7b584959699657a63a49384f07fd7a9" title="format_size" alt="" coords="1017,17,1115,43"/>
<area shape="rect" id="node9" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="2043,42,2097,69"/>
<area shape="rect" id="node12" href="statistics_8h.html#aeff52bbf045362270639b2baed20762b" title="statistics_stop" alt="" coords="1201,17,1316,43"/>
<area shape="rect" id="node13" href="core_8h.html#a8f346536ccfbe77b78ed577674beb6cf" title="simulation_shutdown" alt="" coords="1364,17,1520,43"/>
<area shape="rect" id="node14" href="core_8c.html#a9b05d2af2e233e2616633eaa706682ee" title="exit_from_simulation\l_model" alt="" coords="1571,5,1726,47"/>
<area shape="rect" id="node15" href="core_8h.html#a7fb819521b1ab5fc7644ad216fe7b465" title="base_init" alt="" coords="1777,14,1856,41"/>
<area shape="rect" id="node16" href="init_8h.html#a417eb072179d09f441dbae3125049e46" title="SystemInit" alt="" coords="1904,15,1995,42"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4d5b6bd7866b813152f5ead12012dc46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syncronize_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Syncronize all the kernels. </p>
<p>This function can be used as syncronization barrier between all the threads of all the kernels.</p>
<p>The function will return only after all the threads on all the kernels have already entered this function.</p>
<p>We create a new communicator here, to be sure that we synchronize exactly in this function and not somewhere else.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is extremely resource intensive, wastes a lot of cpu cycles, and drops performance significantly. Avoid using it as much as possible! </dd></dl>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00492">492</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_cgraph.png" border="0" usemap="#mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_cgraph" alt=""/></div>
<map name="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_cgraph" id="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_cgraph">
<area shape="rect" id="node2" href="thread_8c.html#a9f5993fbefc809165c4b74bb8da463d0" title="thread_barrier" alt="" coords="164,31,277,57"/>
<area shape="rect" id="node3" href="atomic_8h.html#a52336e036d2da5656c6db69b121458ba" title="atomic_dec" alt="" coords="355,5,451,32"/>
<area shape="rect" id="node4" href="atomic_8h.html#ab61334506e238ad3190ce02fc53af0fb" title="atomic_inc_and_test" alt="" coords="325,56,480,83"/>
</map>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_icgraph.png" border="0" usemap="#mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_icgraph" alt=""/></div>
<map name="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_icgraph" id="mpi_8h_a4d5b6bd7866b813152f5ead12012dc46_icgraph">
<area shape="rect" id="node2" href="main_8c.html#aa729cb27350c33119484501e13df4fec" title="main_simulation_loop" alt="" coords="164,5,325,32"/>
<area shape="rect" id="node3" href="main_8c.html#af2ac8c142556588d87e6c069a4ca9894" title="end_computing" alt="" coords="373,5,495,32"/>
<area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="407,56,461,83"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a46fe48a4497654d137246733217dad47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structspinlock__t.html">spinlock_t</a> mpi_lock</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This global lock is used by the lock/unlock_mpi macro to control access to MPI interface. If proper MPI threading support is available from the runtime, then it is not used. </p>

<p>Definition at line <a class="el" href="mpi_8c_source.html#l00055">55</a> of file <a class="el" href="mpi_8c_source.html">mpi.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6d2104db64b91953bbd7b8fedbb8a094.html">communication</a></li><li class="navelem"><a class="el" href="mpi_8h.html">mpi.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
